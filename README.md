# P5-MyBlog
Cinto proyecto del Bootcamp. Un Blog de fotogrfías.

При выполнении проекта я столкнулся с проблемой хранения массива данных, для правильной работы сайта. Мною были опробованы методы реализации только на JavaScript, без использования библиотек и фрэймворков. Достичь желаемых результатов не удалось. С применением php все заработало сразу. Сначала я создал структуру SPA, добавил меню и авторизацию. Затем добавил стили и другие функции. Можно сказать что я действовал по правило обратного инженеринга.
Этот проект я старался реализовать максимально реалистичным и интересным, могу с уверенностью сказать что я вложил частичку своей души.


Описание файла editdescription.php
$data = file_get_contents('php://input');: Эта строка получает данные из тела запроса, отправленного на сервер. php://input - это поток, который позволяет получить данные запроса POST.

$request = json_decode($data);: Здесь данные запроса, полученные в предыдущей строке, декодируются из JSON формата в объект PHP. Функция json_decode используется для этой цели.

if ($request && isset($request->index) && isset($request->description)) {: Это условие проверяет, существует ли объект $request и есть ли у него свойства index и description. Если условие выполняется, значит в запросе присутствуют необходимые данные.

$index = $request->index;: Здесь значение свойства index из объекта $request присваивается переменной $index.

$description = $request->description;: Здесь значение свойства description из объекта $request присваивается переменной $description.

$galleryData = json_decode(file_get_contents('gallery.json'));: Эта строка читает содержимое файла gallery.json и декодирует его в объект PHP. Таким образом, данные из файла gallery.json загружаются в переменную $galleryData.

if ($index >= 0 && $index < count($galleryData)) {: Это условие проверяет, что значение $index находится в диапазоне от 0 до количества элементов в $galleryData. Это гарантирует, что индекс является допустимым для массива.

$galleryData[$index]->description = $description;: Здесь свойству description объекта с индексом $index в $galleryData присваивается новое значение $description. Таким образом, описание элемента в массиве $galleryData обновляется.

file_put_contents('gallery.json', json_encode($galleryData));: В этой строке обновленный массив $galleryData кодируется в формат JSON с помощью функции json_encode и записывается обратно в файл gallery.json. Таким образом, изменения сохраняются в файле.

В целом, этот код принимает запрос с информацией об индексе и описании, обновляет соответствующий элемент в файле gallery.json и сохраняет обновленные данные обратно в файл.


Описание файла deletephoto.php
$data = file_get_contents('php://input');: В этой строке кода функция file_get_contents() используется для чтения данных из потока ввода php://input. php://input представляет собой поток, содержащий данные запроса, отправленного на сервер. В данном случае, предполагается, что данные запроса являются JSON-объектом.

$request = json_decode($data);: Строка кода использует функцию json_decode() для преобразования полученных данных ($data) из JSON-строки в объект PHP. Результат преобразования сохраняется в переменную $request.

if ($request && isset($request->index)) {: Эта строка проверяет, существует ли объект $request и имеет ли он свойство index. Если оба условия выполняются, то код внутри этого условия будет выполняться.

$index = $request->index;: Значение свойства index объекта $request присваивается переменной $index. Предполагается, что $request->index содержит индекс элемента в массиве galleryData, который нужно удалить.

$galleryData = json_decode(file_get_contents('gallery.json'));: В этой строке кода содержимое файла gallery.json считывается с помощью функции file_get_contents(), а затем декодируется из JSON-строки в массив PHP с помощью функции json_decode(). Результат сохраняется в переменную $galleryData.

if ($index >= 0 && $index < count($galleryData)) {: Эта строка проверяет, что значение $index является допустимым индексом в массиве $galleryData. Условие выполняется, если $index больше или равно нулю и меньше количества элементов в массиве $galleryData.

array_splice($galleryData, $index, 1);: Функция array_splice() используется для удаления одного элемента из массива $galleryData. Она принимает массив, начальный индекс и количество элементов для удаления. В данном случае, удаляется один элемент с индексом, указанным в переменной $index.

file_put_contents('gallery.json', json_encode($galleryData));: В этой строке кода массив $galleryData преобразуется обратно в JSON-строку с помощью функции json_encode(), а затем записывается обратно в файл gallery.json с помощью функции file_put_contents(). Это обновляет содержимое файла gallery.json после удаления элемента.

Таким образом, этот код обрабатывает запрос, который содержит индекс элемента в массиве galleryData, который нужно удалить. Он загружает данные из файла gallery.json, удаляет указанный элемент из массива и затем обновляет файл gallery.json с обновленными данными.



Описание файла savephoto.php

$data = file_get_contents('php://input');

Эта строка кода считывает данные, переданные с помощью HTTP-запроса, используя специальный поток php://input. Обычно это данные, отправленные с помощью метода POST или PUT. В данном случае, данные ожидаются в формате JSON.

$photo = json_decode($data);

Здесь данные, считанные на предыдущем шаге, декодируются из формата JSON в объект или ассоциативный массив, в зависимости от настроек функции json_decode(). Предполагается, что переданные данные представляют собой объект или массив с информацией о фото.

if ($photo) { ... }

Данный блок if проверяет, был ли успешно декодирован объект или массив $photo из переданных данных. Если переменная $photo не равна null, значит декодирование прошло успешно, и код внутри блока if будет выполнен.

$galleryData = json_decode(file_get_contents('gallery.json'));

Здесь содержимое файла gallery.json считывается и декодируется в переменную $galleryData. Предполагается, что gallery.json уже содержит JSON-данные, представляющие массив объектов или массив фотографий.

$galleryData[] = $photo;

В этой строке новое фото, представленное объектом или массивом $photo, добавляется в конец массива $galleryData. Теперь массив $galleryData содержит все предыдущие фото из gallery.json плюс новое фото.

file_put_contents('gallery.json', json_encode($galleryData));

В этой строке массив $galleryData кодируется обратно в формат JSON с помощью функции json_encode() и записывается обратно в файл gallery.json, перезаписывая его. Теперь файл gallery.json содержит обновленные данные, включая новое добавленное фото.

Таким образом, этот фрагмент кода предназначен для обработки данных о фото, полученных от клиента, добавления нового фото в существующий список фото в файле gallery.json и обновления этого файла.





Вам знакомо чувство обнаружения неизведанных миров и ощущение свободы, которое они приносят? Когда мы открываем двери в новые места, мы встречаем невероятные приключения, неповторимую красоту и глубокую историю. И в этом духе, я приглашаю вас отправиться в захватывающее путешествие в провинцию Экстремадуру, которая находится на юго-западе Испании.
Экстремадура — это жемчужина, о которой многие ещё не знают. Смело ступайте по её древним улочкам, где каждый камень пронизан историей и культурой. Вас ждут замки, таинственные руины и живописные пейзажи, которые будут вдохновлять вашу душу.

А что насчёт кулинарных открытий? Экстремадура славится своей гастрономией, и вы обязательно должны попробовать их изысканные блюда. Вкуснейшие сыры и знаменитый хамон иберико, а также местное вино - истинные деликатесы.

Путешествия в Экстремадуру пробудят в вас жажду открытий и приключений. Вам несомненно придётся преодолеть свои границы, но именно такие моменты оставляют в памяти незабываемые впечатления. Откройте своё сердце и душу для и вы обретёте новую глубину и вдохновение в своей жизни.

Поехали на поиски новых миров и откровений в Испании!